/*****************************************************************************
 * file:	test/bits-learn.c
 ***************************************************************************** */

#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <stdint.h>
#include <limits.h>
#include <assert.h>

typedef struct {
	unsigned int a : 4; // 0000
	unsigned int b : 4; // 0000
	unsigned int c : 8; // 00000000
	unsigned int d : 8; // 00000000
	unsigned int e : 8; // 00000000
} BIT_ARRAY_DH; // 00000000 00000000 00000000 00000000

/*****************************************************************************
 * operators:
 *
 * AND &
 * OR |
 * XOR ^
 * move left <<
 * move right >>
 * &=, |=, ^=, <<=, >>=
 ***************************************************************************** */
int main(int argc, char **argv) {
	BIT_ARRAY_DH pole; // {00101011 01100100 00011000 [0100 0010]}
	pole.a = 2;		// 0010
	pole.b = 4;		// 0100
	pole.c = 24;	// 00011000
	pole.d = 100;	// 01100100
	pole.e = 43;	// 00101011
	printf("%u\n", pole);
	printf("%lu\n", sizeof(pole));
	puts(" ");

	/*
	* AND & (bit multiply)
	*
	*  0010 (2)
	* &0100 (4)
	*  ----
	*  0000 (0)
	*/
	printf("2 & 4 = %u\n", pole.a & pole.b);

	/*
	* OR | (bit add)
	*
	*  0010 (2)
	* |0100 (4)
	*  ----
	*  0110 (6)
	*/
	printf("2 | 4 = %u\n", pole.a | pole.b);

	/*
	* XOR ^ (bit exclusive add)
	*
	*  01100100 (100)
	* ^00101011 (43)
	*  --------
	*  01001111 (79)
	*/
	printf("100 ^ 43 = %u\n", (pole.d ^ pole.e));

	/*
	* NON ~ (bit non)
	*
	* ~00000000 00011000 (24)
	*  -----------------
	*  11111111 11100111 (4294967271)
	*/
	printf("~24 = %u\n", ~pole.c);

	/*
	* bit move
	*
	* x << n == x * 2^n
	*
	* 00000000 00000000 00000000 00000110 (6) << 2
	* -----------------------------------
	* 00000000 00000000 00000000 00011000 (24)
	*/
	printf("6 << 2 = %u\n", 6 << 2);
	/*
	* x >> n == x / 2^n
	*
	* 00000000 00000000 00000000 00011000 (24) >> 1
	* -----------------------------------
	* 00000000 00000000 00000000 00001100 (12)
	*/
	printf("24 >> 1 = %u\n", 24 >> 1);

	return 0;
}


DESTDIR=
PREFIX=/usr
BINDIR=$(PREFIX)/bin
LIBDIR=$(PREFIX)/lib
INCLUDEDIR=$(PREFIX)/include
SYSCONFDIR=/etc

SOEXT=.so
EXEXT=

CC=gcc
CFLAGS=
WARN_CFLAGS=-Wall
OPT_CFLAGS=-pedantic -std=c99 -O3 -march=native -mtune=native
LIB_CFLAGS=-fPIC
INCLUDES=
DEFS=
LIBDEFS=
LDFLAGS=

SO_LDFLAGS=-lc
SO_CFLAGS=-shared -Wl,-soname,libdh$(SOEXT)

E = @echo
Q = @

OBJ-OUTDIR=../.out
BIN-OUTDIR=../.bin
UBIN-OUTDIR=../.ubin
TESTBIN-OUTDIR=../.testbin
LIB-OUTDIR=../.lib

# HERE you can modify, what will be built
#SUBDIRS=libdh quadequi portping initmount dhcalc
SUBDIRS=libdh

# LIBDH
LIBDHPARTS=math str misc memset fun

LIBDHOBJS=$(OBJ-OUTDIR)/math.o \
	$(OBJ-OUTDIR)/str.o \
	$(OBJ-OUTDIR)/misc.o \
	$(OBJ-OUTDIR)/memset.o \
	$(OBJ-OUTDIR)/fun.o

# INIT

INITOBJS=../.out/init.o \
		../.out/utmp.o

INITCFLAGS=$(CFLAGS) -fomit-frame-pointer
INITDEFS=-D_GNU_SOURCE -DINIT_MAIN -DHAVE_UPDWTMP

# DHCALC

DHCALC_OBJS=$(OBJ-OUTDIR)/dhcalc/main.o


